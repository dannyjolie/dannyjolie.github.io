<!DOCTYPE html><html><head><meta charset="utf-8"><script src="https://use.typekit.net/sxv8lum.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script><meta http-equiv="x-ua-compatible" content="ie=edge"><title> Antiweb dot no</title><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1"><link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/syntax.css"><link rel="canonical" href="http://antiweb.no/"><link rel="alternate" type="application/rss+xml" title="Antiweb dot no" href="http://antiweb.no/feed.xml"><script src="/js/vendor/modernizr-2.8.3.min.js"></script></head><body><div class="container"><header class="top"><div class="menubutton" id="menubutton"><span class="line"></span><span class="line"></span><span class="line"></span></div><div><h1><a href="/">Antiweb</a></h1><p>the chronicles of a slightly misanthropic web developer</p></div><nav><ul id="menu"><li class="active"><a href="/">Home</a></li><li><a href="/programming/">Code and stuff</a></li><li><a href="/about/">About</a></li></ul></nav></header><section class="content"><article><header><p class="post-date">March 30, 2016</p><h1><a class="post-link" href="/posts/2016/03/30/testing-async-redux-action-creators-and-fetch/">Mocha vs. async Redux action creators vs. Fetch</a></h1><p class="subtitle"></p></header><p> Let’s face it. Writing tests is a drag. Unit testing is a second class citizen in the development cycle, but like vacuum cleaning, it’s just something you have to do before unexpected new lifeforms are spawned.</p><p> Fortunately, the whole React + Redux pattern almost forces developers to write testable code from the get-go, and with that all sorted out, writing good unit tests is a hell of a lot more fun.</p><p> To those claiming that we should write tests before even thinking about the actual implementation: Welcome to the real world. Write code, write tests, modify code, modify tests, iterate, iterate, iterate. I’ve yet to work on a project where the specifications were so clear that I knew from the beginning, even vaguely, how my code would be structured. But I digress…</p><p><a href="/posts/2016/03/30/testing-async-redux-action-creators-and-fetch/">Continue reading</a></p><footer> <span><a href="/tags/redux">redux</a></span> <span><a href="/tags/mocha">mocha</a></span> <span><a href="/tags/javascript">javascript</a></span></footer></article><article><header><p class="post-date">March 27, 2016</p><h1><a class="post-link" href="/posts/2016/03/27/the-thing-that-should-not-be/">The thing that should not be</a></h1><p class="subtitle">React was not meant to do this</p></header><div class="tldr"><p>This is possible:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="kr">const</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">something</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure></div><p> Someone asked about the possibility of creating dumb stateless React components that implicitly consume the state of a parent component. So this happened. Do not try this at home. Or work.</p><p> Basically, React allows us to create stateless components that look like this:</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="kr">const</span> <span class="nx">StateLessComponent</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">StateLessComponent</span> <span class="nx">text</span><span class="o">=</span><span class="s2">"Hello world!"</span><span class="p">)</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">domnode</span><span class="p">)</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure><p> Stateless components are cool, they're predictable, and you don't need the React boilerplate to make them tick. By design, they don't have an internal state, and do not implement React's lifecycle functions like <code>componentDidMount</code> etc. They're fast, they're all the hype, they are pure, so let's mess with everything.</p><p><a href="/posts/2016/03/27/the-thing-that-should-not-be/">Continue reading</a></p><footer> <span><a href="/tags/react">react</a></span> <span><a href="/tags/javascript">javascript</a></span></footer></article><article><header><p class="post-date">March 26, 2016</p><h1><a class="post-link" href="/posts/2016/03/26/some-people/">some people</a></h1></header> <img src="/img/charles-bukowski.jpg" class="article-image right"><p class="article-quote"> some people never go crazy.<br> what truly horrible lives<br> they must lead.<br> (excerpt from ‘some people’ by Charles Bukowski)</p><p> I spent a day updating all the NPM packages in my current project, dealing with very breaking changes in react-router-redux and eslint and lots of other junk, because these things are in a constant flux, being redesigned from the ground up, leaving all good things in the world useless, because that is indeed the nature of the software developer and this is the havoc that we wreak upon ourselves.</p><p><a href="/posts/2016/03/26/some-people/">Continue reading</a></p><footer> <span><a href="/tags/javascript">javascript</a></span></footer></article><article><header><p class="post-date">March 25, 2016</p><h1><a class="post-link" href="/posts/2016/03/25/hunger/">Hunger</a></h1><p class="subtitle">Early in the afternoon, too early, Bar Boca</p></header> <img src="/img/autumn.jpg" class="article-image right"><p class="article-quote"> “I've started reading Hamsun's ‘Hunger’”, I interrupted.<br> “Oh, that's not something you want to read unless you're in a really good mood!” he exclaimed.<br> “I haven't read it”, she said. I downed the rest of the negroni. “Ylajali...”</p><p> And that was pretty much it. The clouds had dispersed, revealing the sun, and I walked back home, slightly intoxicated.</p><footer> <span><a href="/tags/diary">diary</a></span></footer></article><div class="pagination"> <span class="previous">Previous</span> <span class="page_number ">Page: 1 of 1</span> <span class="next ">Next</span></div></section></div><script>
    if(!document.cookie || document.cookie.indexOf(' _dev=true') === -1){
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-75690806-1', 'auto');
        ga('send', 'pageview');
    }
</script><script type="text/javascript" src="/js/custom.js"></script></body></html>